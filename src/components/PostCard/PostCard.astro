---
import { Image } from "astro:assets";
import type { CollectionEntry } from "astro:content";
import FormattedDate from "@/components/FormattedDate/FormattedDate.astro";

interface Props {
  post: CollectionEntry<"blog">;
  class?: string;
  showImage?: boolean;
  featured?: boolean;
}

const {
  post,
  class: className,
  showImage = true,
  featured = false,
} = Astro.props;
---

<li
  class:list={[
    "w-full md:w-[calc(50%-1rem)]",
    { "md:!w-full md:mb-4 md:text-center": featured },
    className,
  ]}
>
  <a href={`/blog/${post.id}/`} class="block no-underline group">
    {
      showImage && post.data.heroImage && (
        <Image
          width={720}
          height={360}
          src={post.data.heroImage}
          alt=""
          class:list={[
            "mb-2 rounded-xl transition-shadow duration-200 group-hover:shadow-lg",
            { "md:w-full": featured },
          ]}
        />
      )
    }
    <h4
      class:list={[
        "m-0 text-black leading-none group-hover:text-accent transition-colors duration-200",
        { "md:text-4xl": featured },
      ]}
    >
      {post.data.title}
    </h4>
    <p
      class="m-0 text-gray group-hover:text-accent transition-colors duration-200"
    >
      <FormattedDate date={post.data.pubDate} />
    </p>
  </a>
</li>
