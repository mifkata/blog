---
import type { CollectionEntry } from "astro:content";
import FormattedDate from "@/components/ui/FormattedDate/FormattedDate.astro";

interface Props {
  posts: CollectionEntry<"blog">[];
}

const { posts } = Astro.props;
---

<section class="max-w-[960px] mx-auto">
  <div class="flex items-center justify-between mb-8">
    <div class="flex items-center gap-3">
      <h3 class="text-lg m-0 text-gray uppercase tracking-wider">
        Most Recent
      </h3>
      <div class="flex-1 h-px bg-gray-light min-w-[100px]"></div>
    </div>
    <a
      href="/blog"
      class="text-accent hover:text-accent-dark no-underline text-sm text-nowrap"
    >
      View all posts â†’
    </a>
  </div>
  <ul class="list-none m-0 p-0 space-y-4">
    {
      posts.map((post) => (
        <li class="border-b border-gray-light pb-4 last:border-0">
          <a
            href={`/blog/${post.id}/`}
            class="group flex justify-between items-baseline gap-4 no-underline"
          >
            <span class="text-black group-hover:text-accent transition-colors">
              {post.data.title}
            </span>
            <span class="text-gray text-sm shrink-0">
              <FormattedDate date={post.data.pubDate} />
            </span>
          </a>
        </li>
      ))
    }
  </ul>
</section>
